@model List<dvhd.Models.HoSo>

@{
    ViewBag.Title = "Báo cáo theo Hình Thức Vi Phạm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/Content/css/printStyle.css" />
<!-- Reservation form -->
<section id="reservation-form" style="margin-top:10px;" class="noPrint">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h3>Báo Cáo Theo Hình Thức Vi Phạm</h3>    
        <p>* Khoảng thời gian từ ngày đến ngày tính là thời gian vi phạm</p>        
        <form class="form-inline reservation-horizontal clearfix" role="form"   name="reservationform" id="reservationform">          
          <div class="row">
              <div class="col-sm-2" >
                  <div class="form-group">
                    <label>Hình Thức Vi Phạm</label>
				    @Html.Partial("~/Views/baocao/_HinhThucVP.cshtml")
                  </div>
              </div>
              <div class="col-sm-2" >
                  <div class="form-group">
                    <label>Từ ngày</label>
				    <input name="fromdate" type="date" id="fromdate" value="" class="form-control" placeholder="Từ ngày" />              
                  </div>
              </div>
              <div class="col-sm-2" >
                  <div class="form-group">
                    <label>Đến ngày</label>
				    <input name="todate" type="date" id="todate" value="" class="form-control" placeholder="Đến ngày" />               
                  </div>
              </div>
              <div class="col-sm-2" >
                  <div class="form-group">
                    <label>Tìm</label>
				    <input type="button" style="height:32px;" value="Tìm kiếm" onclick="changeHinhThucVP();">          
                  </div>
              </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section> 

<div class="col-md-12 noPrint" style="text-align:center;margin-top:15px;">
    <input id="btnCreateReportBanIn" type="button" value="Bản in" onclick="baocao_createPDFBanin();" />
    <input id="btnCreateReport" type="button" value="Xuất ra Excel file" onclick="ExportExcel(document.getElementById('hinhthucvipham').value, 4, getDateIdNew(document.getElementById('fromdate').value), getDateIdNew(document.getElementById('todate').value));" />
</div>

<div id="divResult" class="col-md-12">    
    @if (Model != null && Model.Count > 0)
    {
        <label id="countResult">Tổng Số Vụ Vi Phạm : @Model.Count</label>
    } else {
        <label id="countResult"></label>
    }
    
    <table id="tbResult" class="tbBanIn">
        @if (Model != null && Model.Count > 0) { 
            <tr>
                <th style="width:22px;">Stt</th><th style="width:70px;">Hình Thức Vi Phạm</th><th style="width:70px;">Hành Vi Vi Phạm</th>
                <th style="width:100px;">Loại Vi Phạm</th><th style="width:100px;">Địa Điểm Vi Phạm</th>
		        <th style="width:470px;">Mô Tả Chi Tiết</th><th style="width:150px;">Số Lượng Chi Tiết</th><th style="width:120px;">Tên Đơn Vị Bắt Giữ</th>
		        <th style="width:70px;">Phương Thức Vận Chuyển</th><th style="width:70px;">Tuyến Đường Vận Chuyển</th><th style="width:75px;">Ngày Vi Phạm</th>
            </tr>
            for (var i = 0; i<Model.Count; i++) {
                var hoso = Model[i];
                var thoigianvipham = hoso.thoigianvipham.HasValue == true ? hoso.thoigianvipham.Value.ToString("dd/MM/yyyy", System.Globalization.CultureInfo.InvariantCulture) : "";
                <tr>
                    <td>@(i + 1)</td><td>@hoso.hinhthucvipham</td><td>@hoso.hanhvivipham</td>
                    <td>@hoso.loaidongvat</td><td>@hoso.quanvipham/@hoso.tinhvipham</td><td>@hoso.motavipham</td>
                    <td>@hoso.soluongchitiet</td><td>@hoso.tendonvibatgiu</td>
                    <td>@hoso.phuongthucvanchuyen</td><td>@hoso.tuyenduongvanchuyen</td><td>@thoigianvipham</td>
                </tr>
            }        
        }
    </table>
</div>
